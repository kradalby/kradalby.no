Title: TDT4186 Operating system 
Date: 2015-05-13 10:00
Modified: 
Summary: My notes for TDT4186

[TOC]

# Intro
These are my notes for TDT4186 . These are my own understandings of the subject and it may not be completely correct or accurate. It is also written in slightly below average Norwegian English.

## Why do I post them here?
There is a couple of reasons. The first is for convenience. I like to write Markdown as it is very easy to structure text easily and it does not take any focus away from the text, it also has great readability both uncompiled and compiled. It is also very practical to have this available on the web as i like to read my notes on my iPad, and it is faster to access here. The last reason is that someone may find them useful.

# Chapter 1 - Computer Overview

## Instruction Execution
When a Instruction is to be Executed, the instruction cycle is as follows:

    :::
    Start -> Fetch Next -> Execute -> Halt

## Interrupts
Interrupt is a mechanism which is used to tell a CPU that the task you are currently doing, must be paused and put back to the queue so the next process can get CPU time.

**Program:** Fault in the program, such as devision by zero and exceptions.
**Timer:** Generated by a timer within the processor.
**I/O:** Generated by an I/O controller to signal completion of task or error.
**Hardware fail:** Generated by hardware failure, such as powerfailure or memory parity error.

In the instruction execution cycle, checking for interrupts are added at the end after the Execute step. The interrupt is checked between every instruction.

## The Memory Hierarchy
The morst important parts of the memory hierarchy is the inboard memory and outboard storage.

**Inboard memory:** Registers, cache, main memory
**Outboard storage:** SSD, HDD, Optical Drive
**Offline storage:** Magnetic tape

The top of the hierarchy is the fastest and it is typically more expensive per byte. The closer the memory is to the CPU the faster, sometimes, like registers and cache, its onboard the CPU.

## Cache Memory
Cache is a memory storage inside or very close to the CPU. It is very fast, and usually operates on the same bandwith as the CPU. Typically the needed information is transfered from the main memory to the cache and then to the CPU/registers. If the system has multiple levels of cache, it will go the entier latter from slowest to fastes before hiting the CPU.

The CPU and sometimes software, has implemented algorithms to try to predict the next parts of needed information.

## Direct Memory Access
DMA is a technique where the CPU uses the DMA module on the system bus is used to move data from one point to the other. It does not send any interrupt signal until the job is finished or fails.

The CPU tells the DMA module the following info:

- Read or write
- Address of the IO device involved
- Starting location in memory to read/write
- The number of words to be written

### Programmed I/O
Programmed I/O does not interrupt the processor when a instruction related to I/O is executed. It sets the I/O status register bits, but does not talk to the processor.

### Interrupte-driven I/O
Will make the I/O module work on, and then put the process into the blocking queue. The CPU will then keep on doing something productive. The I/O module will then interrupt the processor when the data is ready.

Interrupted IO is more efficient than Programmed IO, but does require the CPU to transfer data between the memomry and the IO module.




# Chapter 2 - OS Overview

## Virtual Machines

# Chapter 3 - Processes

## What is a Process?
A program can be defined as:

- A program in execution
- An instance of a program running on a computer
- The entity that can be executed on a processor
- A unit of acitivty characterized by the execution of a sequence of instructions, a current state, and an associated set of system resources.

Two essential elements of a process are program code and a set of data.

While a process is executed, it includes the following:

**Identifier:** Unique identifier
**State:** The state, if executing, its in the running state.
**Priority:** Priority level relative to other processes.
**Program counter:** The address of the next instruction.
**Memory pointers:** Pointers to the code, assosiacted data and shared blocks.
**Context data:** Data present in the registers while executing.
**IO status information:** Information about used devices and files, outstanding IO requests.
**Accounting information:** Information about used time, clock time and time limits.



## Process States

## Process Description

## Process Control

## UNIX SVR4 Process Management

# Chapter 4 - Threads

## Process vs Threads

## Types of Threads

## Multicore and Multithreading

# Chapter 5 - Concurrency: Mutex and sync

## Principles of Concurrency

## Mutual Exclusion: Hardware

## Semaphores

## Monitors

## Message Passing

## R/W problem

# Chapter 6 - Concurrency: Deadlock and Starvation

## Deadlock

### Principles

### Prevention

### Avoidance

### Detection

# Chapter 7 - Memory Management

## Memory Partitioning

## Paging

## Segmentation

# Chapter 8 - Virtual Memory

## Hardware and Control Structures

## Operating System Software

# Chapter 9 - Uniprocessor Scheduling

## Types of Processor Scheduling

## Scheduling Algorithms

# Chapter 10 - Multiprocessor and RT Scheduling

## Multiprocessor Scheduling

## Real-Time Scheduling

# Chapter 11 - I/O Management and Disk Scheduling

## Devices

## Organization

## OS Design Issues

## Disk Scheduling

## RAID

## Disk Cache

# Chapter 12 - File Management

## File Organization and Access

## B-Trees

## File Directories

## File Sharing

## Record Blocking

## Secondary Storage Management

## File System Security

# Appendix A - Topics in Concurrency
